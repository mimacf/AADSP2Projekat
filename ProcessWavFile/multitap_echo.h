#ifndef MULTITAP_ECHO_H
#define MULTITAP_ECHO_H

#include "common.h"

#if __cplusplus
extern "C" {
#endif

/////////////////////////////////////////////////////////////////////////////////
// Constant definitions
/////////////////////////////////////////////////////////////////////////////////
#define N_TAP 1
#define ECHO_MAX_LENGTH 4000
/////////////////////////////////////////////////////////////////////////////////


/////////////////////////////////////////////////////////////////////////////////
// Control state structure
/////////////////////////////////////////////////////////////////////////////////
typedef struct Stanje
{
	double* pEchoBuff;
	int bufferLength;
	int writeIndex;
	int readIndex;
	int delay;
	int nTap;
	
} EchoState;


/////////////////////////////////////////////////////////////////////////////////


void multitap_echo_init(EchoState* echoState, double buffer[], const int echoBufLen, const int delay);

void multitap_echo(double* pInbuf, double* pOutbuf, int inputLen, EchoState* echoState);


#if __cplusplus
}
#endif

#endif
