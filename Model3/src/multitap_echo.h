#ifndef MULTITAP_ECHO_H
#define MULTITAP_ECHO_H

#include "common.h"

#if __cplusplus
extern "C" {
#endif

	/////////////////////////////////////////////////////////////////////////////////
	// Constant definitions
	/////////////////////////////////////////////////////////////////////////////////
#define N_TAP 1
#define ECHO_MAX_LENGTH 4000
/////////////////////////////////////////////////////////////////////////////////


/////////////////////////////////////////////////////////////////////////////////
// Control state structure
/////////////////////////////////////////////////////////////////////////////////
	typedef struct Stanje
	{
		__memX	DSPfract* pEchoBuff;
		DSPint bufferLength;
		DSPint writeIndex;
		DSPint readIndex;
		DSPint delay;
		DSPint nTap;

	} EchoState;


	/////////////////////////////////////////////////////////////////////////////////


	void multitap_echo_init(EchoState* echoState, DSPfract* buffer,  const DSPint echoBufLen, const DSPint delay);

	void multitap_echo(__memX DSPfract* pInbuf,__memX DSPfract* pOutbuf, DSPint inputLen, EchoState* echoState);


#if __cplusplus
}
#endif

#endif
